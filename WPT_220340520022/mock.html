<html>
<body>

<Br/>bookid<input type="text" id="bookid" placeholder="enter the bookid" />
<span id="message"> What happened</span>
</br>
<Br />bookname<input type="text" id="bookname" placeholder="enter the bookname" />
</br>
<Br />price<input type="text" id="price" placeholder="enter the price" />
</Br>
</br>
<button id="update"> update book</button>



</body>

<script src="jquery-3.5.1.min.js"></script>
<script>
$(
	()=>{
      $('#update').click(()=>{
            let input ={bookid:$('#bookid').val(),bookname:$('#bookname').val(),price:$('#price').val()};
              let ajasxparams={
                       data:input,
					   url:"http://localhost:8081/updatebook",
                       type:'get',
					    datatype:'json',
						success:(output)=>
					    {
							if(output)
							{
								$('#message').text("update successfuly");

							}
							else
							{
								$('#message').text("update successfuly");
							}
							$('#bookname').val("");
							$('#price').val("");
						},
						error:(mistake)=>{console.log("error"+mistake);}
					};
					$.ajax(ajasxparams);

				});


				$('#bookid').blur(()=>{
				let y=$('#bookid').val();
				let ajasxparams={
				data:{x:y},
				url:"http://localhost:8081/getitem",
				type:'get',
				datatype:'json',
				success:(output)=>
				{
				if(output.bookidfoundstatus)
				{
				$('#message').text("book details found");
				$('#bookname').val(output.bookdetails.bookname);
				$('#price').val(output.bookdetails.price);
				}
				else
				{
					$('#message').text("book details not found");
					$('#bookname').val("");
					$('#price').val("");
				
				}
				
				
				},
				error:(mistake)=>{console.log("error"+mistake);}
				};
				$.ajax(ajasxparams);
				
				});





	});
</script>

</html>